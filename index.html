<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Brake X - Consulta de Pastillas</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/svg+xml" href="favicon-x.svg" />
</head>
<body>

    <header>
        <div class="header-left-controls">
            <button type="button" class="header-menu-btn material-btn" id="menuBtn" aria-label="Abrir men√∫" aria-expanded="false" aria-controls="side-menu">
                <svg class="lp-icon-menu" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
        </div>
        <h1>
            Brake
            <svg class="header-x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 24">
                <path d="M8.98885921,23.8523026 C8.8942483,23.9435442 8.76801031,24 8.62933774,24 L2.03198365,24 C1.73814918,24 1.5,23.7482301 1.5,23.4380086 C1.5,23.2831829 1.55946972,23.1428989 1.65570253,23.0416777 L13.2166154,12.4291351 C13.3325814,12.3262031 13.4061076,12.1719477 13.4061076,11.999444 C13.4061076,11.8363496 13.3401502,11.6897927 13.2352673,11.587431 L1.68841087,0.990000249 C1.57298556,0.88706828 1.5,0.733668282 1.5,0.561734827 C1.5,0.251798399 1.73814918,0.000028513 2.03198365,0.000028513 L8.62933774,0.000028513 C8.76855094,0.000028513 8.89532956,0.0561991444 8.98994048,0.148296169 L21.4358709,11.5757407 C21.548593,11.6783875 21.6196864,11.8297916 21.6196864,11.999444 C21.6196864,12.1693815 21.5483227,12.3219261 21.4350599,12.4251432 L8.98885921,23.8523026 Z M26.5774333,23.8384453 L20.1765996,17.9616286 C20.060093,17.8578413 19.9865669,17.7038710 19.9865669,17.5310822 C19.9865669,17.3859509 20.0390083,17.2536506 20.1246988,17.153855 L23.4190508,14.1291948 C23.5163648,14.0165684 23.6569296,13.945571 23.8131728,13.945571 C23.9602252,13.945571 24.0929508,14.0082997 24.1894539,14.1092357 L33.861933,22.9913237 C33.9892522,23.0939706 34.0714286,23.2559245 34.0714286,23.4381226 C34.0714286,23.748059 33.8332794,23.9998289 33.5394449,23.9998289 L26.9504707,23.9998289 C26.8053105,23.9998289 26.6733958,23.9382408 26.5774333,23.8384453 Z M26.5774333,0.161098511 C26.6733958,0.0615881034 26.8053105,0 26.9504707,0 L33.5394449,0 C33.8332794,0 34.0714286,0.251769886 34.0714286,0.561706314 C34.0714286,0.743904453 33.9892522,0.905573224 33.861933,1.00822006 L24.1894539,9.89030807 C24.0929508,9.99152926 23.9602252,10.0542579 23.8131728,10.0542579 C23.6569296,10.0542579 23.5163648,9.98354562 23.4190508,9.87063409 L20.1246988,6.8459739 C20.0390083,6.74617837 19.9865669,6.613878 19.9865669,6.46874677 C20.060093,6.14198767 20.1765996,6.03848544 L26.5774333,0.161098511 Z"/>
            </svg>
            <span class="header-subtitle">Consulta r√°pida. Frenado seguro.</span>
        </h1>
        <div class="header-spacer"></div>
    </header>

    <div class="main-layout">
        
        <div class="filters-column">
            <div class="glass">
                
                <h3 class="filter-title">B√∫squeda R√°pida</h3>
                
                <div class="search-container" id="searchContainer">
                    <label for="busquedaRapida" class="visually-hidden">B√∫squeda R√°pida por Marca, Serie, Referencia u OEM</label>
                    <input type="text" id="busquedaRapida" placeholder="Marca, Serie, Ref, OEM..." class="form-input" autocomplete="off" />
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                </div>
                
                <div class="filter-group">
                    <h3 class="filter-title">Detalles del Veh√≠culo</h3>
                    <label for="filtroMarca" class="visually-hidden">Filtrar por Marca</label>
                    <input list="marcas" id="filtroMarca" class="form-input" placeholder="Marca" />
                    <datalist id="marcas"></datalist>
                    
                    <label for="filtroModelo" class="visually-hidden">Filtrar por Modelo o Serie</label>
                    <input list="modelos" id="filtroModelo" class="form-input" placeholder="Modelo/Serie" />
                    <datalist id="modelos"></datalist>
                    
                    <label for="filtroAnio" class="visually-hidden">Filtrar por A√±o</label>
                    <input list="anios" id="filtroAnio" class="form-input" placeholder="A√±o" />
                    <datalist id="anios"></datalist>
                </div>
                
                <div class="filter-group">
                    <h3 class="filter-title">Posici√≥n</h3>
                    <div class="position-container">
                        <button type="button" class="position-btn" id="positionDelantera">Delantera</button>
                        <button type="button" class="position-btn" id="positionTrasera">Trasera</button>
                    </div>
                </div>
                
                <div class="filter-group">
                    <h3 class="filter-title">Referencias</h3>
                    <div class="input-group-horizontal">
                        <label for="filtroOem" class="visually-hidden">Filtrar por c√≥digo OEM</label>
                        <input list="oemList" id="filtroOem" class="form-input" placeholder="OEM" />
                        <datalist id="oemList"></datalist>
                        
                        <label for="filtroFmsi" class="visually-hidden">Filtrar por c√≥digo FMSI</label>
                        <input list="fmsiList" id="filtroFmsi" class="form-input" placeholder="Platina FMSI" />
                        <datalist id="fmsiList"></datalist>
                    </div>
                </div>
                
                <div class="filter-group">
                    <h3 class="filter-title">Medidas (mm)</h3>
                    <div class="input-group-horizontal">
                        <label for="medidasAncho" class="visually-hidden">Filtrar por Ancho en mil√≠metros</label>
                        <input type="number" id="medidasAncho" placeholder="Ancho" class="form-input" />
                        
                        <label for="medidasAlto" class="visually-hidden">Filtrar por Alto en mil√≠metros</label>
                        <input type="number" id="medidasAlto" placeholder="Alto" class="form-input" />
                    </div>
                </div>
                
                <button type="button" class="clear-filters-btn" id="clearFiltersBtn" aria-label="Borrar filtros">
                    <svg id="trashIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 6h18"></path>
                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
                    </svg>
                    Borrar Filtros
                </button>
            </div>

            <div class="brand-tags-container glass" id="brand-tags-container" style="display: none;"></div>

            <div class="manufacturer-tags-container glass" id="manufacturer-tags-container">
                <button class="brand-tag" data-manufacturer="INC">Incolbest</button>
                <button class="brand-tag" data-manufacturer="K">KTC</button>
                <button class="brand-tag" data-manufacturer="BP">Break Pak</button>
                <button class="brand-tag" data-manufacturer="BEX">Bex-Usa</button>
            </div>
        </div>

        <div class="results-panel">
            <div class="glass results-header-card" id="results-header-card">
                <div class="results-header">
                    <div class="result-count-container" id="result-count-container" aria-live="polite" aria-atomic="true">0 resultados</div>
                    
                    <div class="view-toggle-buttons" role="radiogroup" aria-label="Vistas">
                        <button type="button" class="view-btn" id="filtroFavoritosBtn" aria-pressed="false" aria-label="Mostrar solo favoritos">
                            <svg class="heart-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </button>
                        <button type="button" class="view-btn" id="historialBtn" aria-pressed="false" aria-label="Mostrar historial de b√∫squeda">
                            <svg class="history-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 4v6h6"></path>
                                <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                                <polyline points="12 7 12 12 15 15"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <div class="glass" id="searchHistoryCard" style="display: none; margin-bottom: 0.8rem; animation: fadeInUpCard 0.5s forwards;">
                <h3 class="filter-title" style="margin-bottom: 0.5rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--material-surface-border);">
                    Historial de B√∫squeda
                </h3>
                <p style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 1rem;">Tus √∫ltimas 5 b√∫squedas. Haz clic para repetir o en la 'x' para eliminar.</p>
                <div class="search-history" id="searchHistoryContainer"></div>
            </div>

            <div class="results-wrapper" id="results-container" role="status"></div>
            
            <div class="pagination-container" id="pagination-container"></div>
        </div>
    </div>

    <footer class="footer-banner" id="footerBanner">
        <div class="footer-content">
            <div class="footer-tools">
                <span>Impulsado por:</span>
                <a href="https://github.com/" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                    <svg class="tool-logo" fill="#FFFFFF" viewBox="0 0 16 16" height="20">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.23.48-2.7-1.07-2.7-1.07-.36-.92-.89-1.17-.89-1.17-.73-.5.06-.49.06-.49.8.06 1.22.82 1.22.82.71 1.21 1.87.86 2.33.66.07-.52.28-.86.51-1.06-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                </a>
                <a href="https://gemini.google.com/" target="_blank" rel="noopener noreferrer" aria-label="Gemini">
                     <svg class="tool-logo" viewBox="0 0 288 65" fill="currentColor" height="18">
                        <path d="M283.015 17.039C281.649 17.039 280.465 16.5673 279.464 15.6239C278.508 14.6357 278.029 13.4677 278.029 12.1201C278.029 10.7725 278.508 9.62698 279.464 8.68363C280.465 7.74029 281.649 7.26862 283.015 7.26862C284.381 7.26862 285.542 7.74029 286.498 8.68363C287.499 9.62698 288 10.7725 288 12.1201C288 13.4677 287.499 14.6357 286.498 15.6239C285.542 16.5673 284.381 17.039 283.015 17.039ZM279.327 56.4572V22.0926H286.702V56.4572H279.327Z"></path>
                     </svg>
                </a>
            </div>
            <div class="footer-copyright">&copy; 2026 Brake X. Todos los derechos reservados.</div>
        </div>
    </footer>

    <div class="floating-buttons-container left">
        <button type="button" class="material-btn" id="upBtn" aria-label="Subir al inicio de la p√°gina">
            <svg class="lp-icon-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="19" x2="12" y2="5"></line>
                <polyline points="5 12 12 5 19 12"></polyline>
            </svg>
        </button>
    </div>
    <div class="floating-buttons-container right">
        <button type="button" class="material-btn" id="orbitalBtn" aria-label="Activar Modo Orbital" aria-pressed="false">
            <svg class="lp-icon-palette" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 3C12 7.97056 16.0294 12 21 12C16.0294 12 12 16.0294 12 21C12 16.0294 7.97056 12 3 12C7.97056 12 12 7.97056 12 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>
        <button type="button" class="material-btn" id="darkBtn" aria-label="Cambiar modo oscuro" aria-pressed="false">
            <svg class="lp-icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg class="lp-icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="opacity:0; display:none;">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        </button>
    </div>

    <div id="card-modal" class="modal-overlay" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="modal-ref">
        <div class="modal-content" role="document">
            <button type="button" class="modal-close-btn" aria-label="Cerrar">&times;</button>
            <h2 id="modal-ref" class="modal-ref"></h2>
            <div class="modal-position"></div>
            
            <div class="modal-layout-wrapper">
                <div class="modal-details-content-wrapper" id="modalDetailsWrapper">
                    <div class="modal-details-content" id="modalDetailsContent">
                        <div class="modal-apps-specs"></div>
                    </div>
                    <div class="modal-scroll-indicator"></div>
                </div>
                <div class="modal-image-carousel"></div>
            </div>
            
            <div class="modal-counter-wrapper" id="modalCounterWrapper"></div>
        </div>
    </div>

    <div id="guide-modal" class="modal-overlay" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="guide-modal-title">
        <div class="modal-content" role="document">
            <button type="button" class="modal-close-btn" aria-label="Cerrar">&times;</button>
            <h2 id="guide-modal-title" class="filter-title" style="margin-bottom: 0.5rem; border-bottom: 1px solid var(--material-surface-border); padding-bottom: 0.5rem;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                Gu√≠a R√°pida de Uso
            </h2>
            <div class="usage-guide-content">
                <p>¬°Bienvenido a Brake X! Encuentra las pastillas de freno que necesitas f√°cilmente:</p>
                <ul style="padding-left: 1.2rem; line-height: 1.6; font-size: 0.9rem;">
                    <li><strong>üîç B√∫squeda R√°pida:</strong> Escribe cualquier dato (Marca, Serie, Ref, OEM) en la barra principal.</li>
                    <li><strong>üöó Filtros Detallados:</strong> Refina por Marca, Modelo, A√±o, Posici√≥n o Medidas.</li>
                    <li><strong>üè∑Ô∏è Etiquetas:</strong> Haz clic en los botones de fabricantes (K, INC...) para filtrar r√°pido.</li>
                    <li><strong>‚ù§Ô∏è Favoritos:</strong> Usa el coraz√≥n en las tarjetas para guardar tus pastillas frecuentes.</li>
                    <li><strong>üßº Borrar:</strong> Usa el bot√≥n rojo para limpiar filtros.</li>
                    <li><strong>üìÑ Detalles:</strong> Haz clic en una tarjeta para ver im√°genes, medidas exactas y aplicaciones completas.</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="side-menu-overlay" id="side-menu-overlay"></div>
    <nav class="side-menu" id="side-menu" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="sideMenuTitle">
        <div class="menu-header">
            <h2 id="sideMenuTitle" class="menu-title">Men√∫</h2>
            <button type="button" class="menu-close-btn" id="menuCloseBtn" aria-label="Cerrar men√∫">&times;</button>
        </div>
        <div class="menu-content">
            <a href="#" class="menu-link" id="open-guide-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                Gu√≠a R√°pida de Uso
            </a>
        </div>
    </nav>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="script.js"></script>
</body>
</html>
